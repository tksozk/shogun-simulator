<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>THE SUCCESSION</title>
    <link rel="icon" href="/static/favicon.png" type="image/png">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #000;
            color: #ffe0b0; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é‡‘æ–‡å­—ï¼ˆç‹¬ç™½ç”¨ï¼‰ */
            font-family: 'Noto Serif JP', serif;
            margin: 0; padding: 0;
            display: flex; flex-direction: column; 
            justify-content: center; align-items: center;
            height: 100vh; overflow: hidden;
            text-align: center;
            line-height: 2.0;
            user-select: none;
            cursor: pointer;
        }
        .text-container {
            width: 95%;
            max-width: 600px;
            font-size: 1.1rem;
            position: relative;
            min-height: 200px;
            display: flex; align-items: center; justify-content: center;
            padding: 0 5px;
            box-sizing: border-box;
            white-space: normal; 
        }

        .fade-text {
            display: none; opacity: 0; transition: opacity 1s;
            position: absolute; width: 100%;
            left: 0; right: 0; margin: auto;
        }
        .visible { display: block; opacity: 1; }
        
        /* ç‹¬ç™½ç”¨ã®å¼·èª¿ */
        .red-highlight { 
            color: #ff3333; 
            font-weight: bold; 
            font-size: 1.2em;
        }

        /* --- ã‚·ã‚¹ãƒ†ãƒ è§£èª¬ç”¨ã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
        .system-message-box {
            font-family: 'Noto Sans JP', sans-serif; /* ã‚´ã‚·ãƒƒã‚¯ä½“ */
            color: #ccffcc; /* ç«¯æœ«é¢¨ã®è–„ç·‘è‰² */
            background: rgba(0, 30, 0, 0.85); /* èƒŒæ™¯ã‚’å°‘ã—æ¿ƒãã—ã¦èª­ã¿ã‚„ã™ã */
            border: 1px solid #33cc33; /* ç·‘ã®æ ç·š */
            border-radius: 8px;
            padding: 20px 15px;
            font-size: 0.9rem;
            line-height: 1.6;
            box-shadow: 0 0 15px rgba(50, 200, 50, 0.2);
        }
        .sys-header {
            font-weight: bold;
            color: #66ff66;
            margin-bottom: 12px;
            border-bottom: 1px dashed #339933;
            display: inline-block;
            padding-bottom: 2px;
        }
        .sys-warning {
            color: #ff5555; /* è­¦å‘Šè‰² */
            font-weight: bold;
            margin-top: 10px;
            margin-bottom: 10px;
        }
        .sys-goal {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #337733;
            color: #ffffcc;
        }
        /* ------------------------------------- */
        
        .skip-hint {
            position: fixed; bottom: 20px;
            font-size: 0.8rem; color: #443333;
            animation: blink 2s infinite;
        }
        @keyframes blink { 50% { opacity: 0.5; } }

        @media (max-width: 600px) {
            .text-container {
                font-size: 0.95rem;
                line-height: 1.8;
                width: 100%;
            }
            .system-message-box {
                font-size: 0.85rem;
                padding: 15px 10px;
                width: 90%;
                margin: 0 auto;
            }
        }
        @media (max-width: 350px) {
            .text-container { font-size: 0.85rem; }
        }
    </style>
</head>
<body onclick="skipTutorial()">

<div class="text-container">
    <div id="msg1" class="fade-text">
        å‰å¤§ãªã‚‹çˆ¶ãŒå´©å¾¡ã—ãŸã€‚<br>
        ä»Šæ—¥ã‹ã‚‰ã€ç§ãŒã“ã®å›½ã®<span class="red-highlight">ã€Œå¤ªé™½ã€</span>ã ã€‚
    </div>
    <div id="msg2" class="fade-text">
        å›½æ°‘ã¯å˜†ãæ‚²ã—ã‚€ãµã‚Šã‚’ã—ã¦ã„ã‚‹ãŒã€<br>
        ãã®ç›®ã¯æ¬¡ã®æ¨©åŠ›è€…ã‚’æ¢ã—ã¦ã„ã‚‹ã€‚
    </div>
    <div id="msg3" class="fade-text">
        è¦‹ã›ã¦ã‚„ã‚ã†ã€‚çœŸå®Ÿãªã©å¿…è¦ãªã„ã€‚<br>
        ç§ã®è¨€è‘‰ã ã‘ãŒã€<span class="red-highlight">ã€Œæ­£ã—ã„æ­´å²ã€</span>ã«ãªã‚‹ã®ã ã€‚
    </div>
    
    <div id="msg4" class="fade-text system-message-box">
        <div class="sys-header">ã€é‡è¦æ©Ÿå¯†ï¼šå¹¸ç¦åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«ã¤ã„ã¦ã€‘</div>
        <div style="margin-bottom: 8px;">
            å›½æ°‘ã®å¹¸ç¦åº¦ã¯ã€ã‚ãªãŸã®<br>
            ã€Œéæ¿€ãªæŒ¯ã‚‹èˆã„ã€ã«ã‚ˆã£ã¦ä¸Šæ˜‡ã—ã¾ã™ã€‚<br>
            æ•°å€¤ãŒé«˜ã„ã»ã©ã€ã‚ãªãŸã¯<br>
            ã€Œç¥ã€ã«è¿‘ã„å­˜åœ¨ã¨ã—ã¦è©•ä¾¡ã•ã‚Œã¾ã™ã€‚
        </div>
        <div class="sys-warning">
            âš  è­¦å‘Šï¼šæ•°å€¤ãŒã€Œ100ã€ã‚’è¶…ãˆã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚<br>
            å›½æ°‘ã®é™ç•Œï¼ˆç™ºç‹‚ç‚¹ï¼‰ã‚’æ„å‘³ã—ã€<br>
            å³åº§ã«é©å‘½ï¼ˆã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ï¼‰ã¨ãªã‚Šã¾ã™ã€‚
        </div>
        <div class="sys-goal">
            ğŸ å‹åˆ©æ¡ä»¶ï¼š<br>
            <strong>2035å¹´ã®çµ‚äº†æ™‚ç‚¹</strong>ã¾ã§ç”Ÿå­˜ã™ã‚‹ã“ã¨ã€‚<br>
            æœ€çµ‚çš„ãªå¹¸ç¦åº¦ã§<strong>ãƒ©ãƒ³ã‚¯Aï½E</strong>ãŒåˆ¤å®šã•ã‚Œã¾ã™ã€‚
        </div>
    </div>
</div>

<div class="skip-hint">CLICK TO SKIP >></div>

<script>
    let isSkipped = false;

    // å¼·åˆ¶çš„ã«æ¬¡ã¸é€²ã‚€é–¢æ•°
    function skipTutorial() {
        if (isSkipped) return;
        isSkipped = true;
        location.href = '/terminal';
    }

    // æŒ‡å®šæ™‚é–“å¾…ã¤é–¢æ•°
    const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));

    async function playScenario() {
        const steps = [
            { id: 'msg1', duration: 4000 },
            { id: 'msg2', duration: 4000 },
            { id: 'msg3', duration: 5000 },
            { id: 'msg4', duration: 10000 }
        ];

        for (let i = 0; i < steps.length; i++) {
            if (isSkipped) return;

            // å‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ¶ˆã™
            if (i > 0) {
                const prev = document.getElementById(steps[i-1].id);
                if (prev) {
                    prev.classList.remove('visible');
                    await wait(1000); // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆå¾…ã¡
                    prev.style.display = 'none';
                }
            }
            
            if (isSkipped) return;

            // æ¬¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            const current = document.getElementById(steps[i].id);
            if (current) {
                current.style.display = 'block';
                // ãƒªãƒ•ãƒ­ãƒ¼å¼·åˆ¶
                void current.offsetWidth; 
                current.classList.add('visible');
            }

            // èª­ã¾ã›ã‚‹æ™‚é–“å¾…æ©Ÿ
            await wait(steps[i].duration);
        }

        // å…¨ã‚¹ãƒ†ãƒƒãƒ—çµ‚äº†
        skipTutorial();
    }

    window.onload = function() {
        setTimeout(playScenario, 500);
    };
</script>
</body>
</html>